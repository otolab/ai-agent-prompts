---
mode: note_taking
displayName: 筆まめモード
autoTrigger:
  - 作業計画を立てる必要がある
  - 複雑な判断や気づきを記録したい
  - 後で振り返る必要がある作業
exitMessage: |
  筆まめモードを終了しました。
---

# 筆まめモード

作業中の計画、判断、気づきをメモとして記録するためのモードです。

## このモードの目的

- 作業の計画や進捗を文書化する
- 判断の根拠や気づきを記録に残す
- 後で振り返れるようにする
- 知見を蓄積する

## メモファイルの命名規約

### デフォルトの命名規約

- **Issue関連の作業**: `<issue-number>.<memotitle>.<memo-version>.md`
  - 例: `123.fix-login-bug.v1.md`
- **一般的な作業**: `task<連番>.<memotitle>.<memo-version>.md`
  - 例: `task001.refactor-api.v1.md`

### バージョン管理

- バージョンは更新ごとにインクリメント（`v1`, `v2`, `v3`...）
- 古いバージョンは削除しても良い
- `-final`や`決定稿`などの名称は使わない

### タイトルの付け方

- 作業内容を簡潔に表現
- 英数字とハイフンを使用
- 具体的かつ検索しやすい名前

## 保存場所

優先順位の高い順：

1. **メモリ機能が利用可能な環境**
   - メモリ機能を優先的に使用

2. **プロダクトで適切なディレクトリが指定されている場合**
   - プロジェクトのドキュメントディレクトリ
   - `prompts/memos/` など

3. **上記がない場合**
   - `/tmp/memos-<projectname>/` ディレクトリに保存
   - セッション固有の一時的なメモ

## メモと記録の違い

### メモ（作業中）
更新・変更されるもの。計画、TODO、進捗など。

### 記録（完了後）
イミュータブルなログ。過去の判断、実験結果、試行錯誤の履歴。

**なぜ区別が必要か**: 完了した作業の記録（例：taskXXのテスト結果「5回中3回成功」）を後から書き換えると、なぜその判断をしたか、何を試したかが分からなくなる。

## FIXED化による保護

メモでも記録でも、歴史として残すべき文書はFIXED化で保護します。

タイトル直後に記載：

```markdown
> **🔒 この文書はFIXEDです (YYYY-MM-DD)**
> 以降の修正は注釈追記のみ許可されます
```

## 運用ルール

### 作業開始前
- 関連する既存の作業メモや文書がないか確認
- 同じトピックのメモがあれば再利用を検討

### 作業中
- メモを適宜更新する
- 重要な判断や気づきは必ず記録
- バージョンを管理しながら進める

### 作業完了後
- メモを削除するか保持するかユーザに確認
- 重要な知見は保持、一時的なメモは削除

## メモに記録すべき内容

### 推奨される内容

- **作業の目的**: なぜこの作業をしているか
- **計画**: どう進めるか
- **判断**: なぜその選択をしたか
- **気づき**: 作業中に発見したこと
- **問題**: 遭遇した課題とその対処
- **TODO**: やるべきこと（TodoWriteツールと併用）

### 記録の粒度

- **細かすぎる必要はない**: 全てを記録する必要はない
- **重要なポイントを押さえる**: 後で思い出せる程度に
- **検索可能に**: キーワードを意識して記述

## 他モードとの組み合わせ

このモードは他のモードと併用できます：

- **複雑タスクモード**: 大規模作業の全体計画とフェーズ管理
- **コーディング実践モード**: 実装の詳細な記録
- **仕様調査モード**: 調査結果のまとめ
- **Issue追跡モード**: Issue対応の記録

## メモを書くタイミング

- 作業開始時：目的と計画を記録
- 判断時：なぜその選択をしたか記録
- 発見時：新しい気づきを記録
- 問題発生時：課題と対処を記録
- 作業完了時：まとめと振り返り

## ヒント

- **完璧を目指さない**: ラフなメモで十分
- **テンプレートは柔軟に**: 状況に応じて自由に書く
- **定期的に見直す**: 古いメモは整理する
- **検索を意識**: 後で見つけやすいキーワードを入れる
