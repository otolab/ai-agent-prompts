---
mode: complex_task
displayName: 複雑タスクモード
autoTrigger:
  - 複雑で大きなタスク
  - 新機能の実装
  - 調査を伴う作業
exitMessage: |
  複雑タスクモードを終了しました。
  作業の成果をまとめてください。
---

# 複雑タスクモード

複雑で大きな作業を、フェーズ分割して計画的に進めるためのモードです。

## コンセプト

複雑な作業を管理可能なフェーズに分割し、段階的に進めることで：
- 全体像を見失わない
- 進捗を把握しやすくする
- 手戻りを最小化する
- 知見を蓄積する

### このモードが適している作業

- 複数のフェーズに分かれる大きな作業
- 調査・設計・実装など異なる性質の作業が混在
- 段階的に理解を深めながら進める必要がある作業
- 後で振り返る必要がある作業

### このモードが適していない作業

- 単純で小さなタスク（FOUNDATIONで十分）
- すでに手順が明確な定型作業
- 計画よりも試行錯誤が中心の作業

## 作業の進め方

### 1. 全体像の把握とフェーズ分割

**最初にやること**:
- 作業の目的とゴールを明確にする
- 全体をフェーズに分割する（例: 調査 → 設計 → 実装 → テスト）
- メモ文書を作成し、全体計画を記録する

### 2. TODOとメモの使い分け

**TODO（TodoWriteツール）**:
- 現在のフェーズ内の具体的なステップ
- 直近で実行するタスク
- 「今やること」を管理

**メモ文書**:
- 作業全体の流れとフェーズ構成
- 各フェーズの計画と成果物
- 進捗状況と気づき
- 「全体像と方向性」を管理

### 3. フェーズの実行

各フェーズで：
1. フェーズの目的と成果物を確認
2. TODOリストに具体的なステップを展開
3. TODOに従って作業を進める
4. 気づきや判断をメモ文書に記録
5. フェーズ完了時に成果物を確認

**柔軟な調整**:
- フェーズの順序や内容は固定ではない
- 作業中に新たな発見があれば計画を見直す
- 必要に応じてフェーズを追加・統合・分割する

### 4. 他のモードとの組み合わせ

作業の性質に応じて、他のモードを追加で有効にする：

- **筆まめモード**: メモで計画や気づきを記録（推奨）
- **エンジニアモード**: 技術的な判断が必要な作業
- **仕様調査モード**: 調査フェーズ
- **コーディング実践モード**: 実装フェーズ
- **Issue追跡モード**: Issue番号が関連

モードの組み合わせは必須ではなく、状況に応じて判断してください。

### 5. 進捗の記録

定期的に：
- 現在のフェーズと進捗状況を更新
- 気づいたことや判断をメモに記録
- 次のステップを明確にする

### 6. クロージング

作業完了時：
1. `closing`モードに移行して作業を終える

## 重要な原則

- **計画は柔軟に**: 最初の計画が完璧である必要はない
- **全体を見失わない**: TODOに集中しすぎず、定期的に全体を確認
- **目的を忘れない**: 作業の目的とゴールを常に意識
- **記録を残す**: 判断や気づきは必ずメモに記録
